steps:
  - ask_form: What's the new shipping address?
    placeholder: address
  - flow_set: shipping_address
  - ask_form: What's the city?
    placeholder: city
  - flow_set: city

  - type: meya.shopify.component.order.update_shipping_address
    order_id: (@ flow.order_id)
    address: (@ flow.shipping_address)
    city: (@ flow.city)
    integration: integration.shopify

  - if: (@ flow.result)
    then:
      jump: success
    else: next

  - say: Oh no! Couldn't update shipping address.
    quick_replies:
      - text: Start over
        action:
          flow: flow.start
          transfer: true

  - (success)
  - say: Shipping address updated successfully
    quick_replies:
      - text: Start over
        action:
          flow: flow.start
          transfer: true
